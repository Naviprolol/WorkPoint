<app-header></app-header>

<div *ngIf="user">
  <div class="return-to-main">
    <a routerLink="/">
      <img src="assets/img/return-button.svg" alt="return-button" class="return-button" width="16" height="16">
    </a>
    <span>Вернуться к поиску</span>
  </div>

  <div class="main-top-content">

    <div class="profile-navigation">
      <ul>
        <li><a routerLink="/favourites">Избранное</a></li>
        <li><a routerLink="/profile">Настройки профиля</a></li>
        <li><a routerLink="/place-settings">Настройки мест</a></li>
        <li *ngIf="user.role_id == 2"><a routerLink="/ad-business">Продвижение</a></li>
      </ul>
    </div>

    <div class="top-information">
      <div class="photo-container">
        <img src="{{user.photo_user}}" alt="profile" onerror="this.src='assets/img/logo.svg'">
      </div>
      <ul>

        <h2>{{user.name + ' ' + user.surname}}</h2>
        <span>{{user.phone}}</span>
      </ul>
    </div>

  </div>

  <div class="progress-information">
    <!-- <div class="donut-chart-block block">
      <div class="donut-chart">
        <div id="section1" class="clip">
          <div class="item"></div>
        </div>
        <div id="section2" class="clip">
          <div class="item"></div>
        </div>
        <div id="section3" class="clip">
          <div class="item"></div>
        </div>
        <div class="center">
          <span></span>
        </div>
      </div>
    </div> -->

    <span class="progress-information__span">
      <!-- Добавь ещё одно место и получи подарок -->
      Добавь 5 мест и получи подарок
    </span>

    <button class="progress-information__btn" routerLink="/main/add">
      Добавить место
    </button>
  </div>

  <form class="about-information" [formGroup]="form" (ngSubmit)="onSubmit()">
    <p class="title">О себе</p>

    <div class="about-information display-flex">
      <div class="input-field name">
        <input id="name" placeholder="Имя" type="text" formControlName="name">
        <label for="name"></label>
      </div>

      <div class="input-field surname">
        <input id="surname" placeholder="Фамилия" type="text" formControlName="surname">
        <label for="surname"></label>
      </div>
    </div>

    <div class="input-field city">
      <input id="city" placeholder="Город" type="text" formControlName="city">
      <label for="city"></label>
    </div>

    <div class="input-field phone">
      <input id="phone" placeholder="Номер телефона" type="phone" formControlName="phone">
      <label for="phone"></label>
    </div>

    <button class="progress-information-input__btn" type="submit" [disabled]="form.invalid || form.disabled">
      Сохранить
    </button>
  </form>

  <div class="business-information" *ngIf="user.role_id == 1">
    <p class="title" style="margin-bottom: 22px;">
      Бизнес-аккаунт
    </p>
    <p class="business-information__text">
      Если ты являешься владельцем заведения и хочешь продвигать его, то переходи на бизнес-аккаунт.
    </p>

    <div class="button-flex">
      <button (click)="onSubmitBusiness()" class="business-information__btn">
        Перейти на бизнес-аккаунт
      </button>
    </div>

  </div>
  <p *ngIf="successText === 'Вы успешно перешли на бизнес-аккаунт!'" class="goodSuccessText">{{successText}}</p>
  <!-- сделать появление надписи на несколько секунд -->
</div>

<app-footer></app-footer>